const github = require('@actions/github');
const core = require('@actions/core');
const fs = require('fs');

const myToken = core.getInput('myToken');

const octokit = new github.GitHub(myToken);

const repoInfo = github.context.repo;
const imageData = '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';

const run = async () => {
  const blob = await octokit.git.createBlob({ ...repoInfo, content: imageData, encoding: 'base64' });
  const heads = await octokit.git.listRefs({ ...repoInfo, namespace: 'heads/' });

  for (let head of heads.data) {
    core.debug(`Caginating ${head.ref}`);
    const headCommit = await octokit.git.getCommit({ ...repoInfo, commit_sha: head.object.sha });
    let tree = await octokit.git.getTree({ ...repoInfo, tree_sha: headCommit.data.tree.sha });

    const handleObjects = async (objects) => {
      for (let object of objects) {
        core.debug(`  Caginating ${object.path}`);
        if (object.type == 'tree' && object.path != ".github") {
          const innerTree = await octokit.git.getTree({ ...repoInfo, tree_sha: object.sha });
          const newTree = await handleObjects(innerTree.data.tree);
          object.sha = newTree.data.sha;
        }
        else if (object.type == 'blob') {
          object.sha = blob.data.sha;
        }
      }
      return octokit.git.createTree({ ...repoInfo, tree: objects });
    }

    const newTree = await handleObjects(tree.data.tree);
    const newCommit = await octokit.git.createCommit({ ...repoInfo, tree: newTree.data.sha, message: 'Caginate', parents: [headCommit.data.sha] });
    await octokit.git.updateRef({ ...repoInfo, ref: head.ref.substr(5), sha: newCommit.data.sha });
  }
}

run();